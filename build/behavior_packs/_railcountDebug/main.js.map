{"version":3,"sources":["main.ts"],"names":[],"mappings":"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","file":"../railcount/scripts/main.js","sourcesContent":["import { world, system, Entity, Player, BlockPermutation, Vector3, Block, Dimension, BlockType, MinecraftBlockTypes } from \"@minecraft/server\";\r\n//Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\r\n//The execution policy stuff\r\nenum Dir {\r\n  FUP,\r\n  FC,\r\n  BUP,\r\n  BC,\r\n  LUP,\r\n  LC,\r\n  RUP,\r\n  RC,\r\n}\r\nfunction checkStateAndLoc(p: Player) {\r\n  const b: Block | undefined = p.dimension.getBlock(p.location);\r\n  if (b !== undefined) {\r\n    let n: number | boolean | string | undefined = b.permutation.getState(\"rail_direction\");\r\n    if (typeof n === \"number\") {\r\n      world.sendMessage(n + \" : \" + p.location.x + \" \" + p.location.y + \" \" + p.location.z);\r\n    }\r\n  }\r\n\r\n}\r\nfunction randomNumberBetween(min: number, max: number): number {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\nlet randomNumber = randomNumberBetween(1, 10);\r\nconsole.log(randomNumber);\r\nclass RailLoc implements Vector3 {\r\n  public constructor(x: number, y: number, z: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n  }\r\n  x: number;\r\n  y: number;\r\n  z: number;\r\n  public compare(v: Vector3) {\r\n    if (this.x === v.x && this.y === v.y && this.z === v.z) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  public offset(x: number, y: number, z: number) {\r\n    return new RailLoc(this.x + x, this.y + y, this.z + z);\r\n  }\r\n}\r\nclass RailIterator {\r\n  d: Dimension;\r\n  lenght: number;\r\n  current: RailLoc;\r\n  previous: RailLoc;\r\n  areas: Set<string>;\r\n\r\n  public constructor(x: number, y: number, z: number, d: Dimension) {\r\n    this.d = d;\r\n    this.lenght = 0;\r\n    this.current = new RailLoc(Math.floor(x), Math.floor(y), Math.floor(z));\r\n    this.areas = new Set();\r\n    this.previous = new RailLoc(0, -64, 0);\r\n  }\r\n  public run(p: Player) {\r\n    while (this.next()) {\r\n      this.lenght++;\r\n\r\n    }\r\n    this.d.runCommandAsync(\"tp @a \" + this.current.x.toString() + \" \" + this.current.y.toString() + \" \" + this.current.z.toString())\r\n    for (const areaname of this.areas) {\r\n      this.d.runCommandAsync(\"tickingarea remove \" + areaname);\r\n    }\r\n    return this.lenght.toString();\r\n  }\r\n  public next() {\r\n\r\n    let b: Block | undefined = this.d.getBlock(this.current);\r\n\r\n    if (b !== undefined) {\r\n      let s: number | boolean | undefined | string = b?.permutation.getState(\"rail_direction\");\r\n      if (typeof s === \"number\") {\r\n        let next: RailLoc | boolean = this.current;\r\n        switch (s) {\r\n          case 0:\r\n            next = this.validate(this.current.offset(0, 0, 1), this.current.offset(0, 0, -1));\r\n            break;\r\n          case 1:\r\n            next = this.validate(this.current.offset(-1, 0, 0), this.current.offset(1, 0, 0));\r\n            break;\r\n          case 2:\r\n            next = this.validate(this.current.offset(-1, 0, 0), this.current.offset(1, 1, 0));\r\n            break;\r\n          case 3:\r\n            next = this.validate(this.current.offset(-1, 1, 0), this.current.offset(1, 0, 0));\r\n            break;\r\n          case 4:\r\n            next = this.validate(this.current.offset(0, 1, -1), this.current.offset(0, 0, 1));\r\n            break;\r\n          case 5:\r\n            next = this.validate(this.current.offset(0, 1, 1), this.current.offset(0, 0, -1));\r\n            break;\r\n          case 6:\r\n            next = this.validate(this.current.offset(0, 0, 1), this.current.offset(1, 0, 0));\r\n            break;\r\n          case 7:\r\n            next = this.validate(this.current.offset(0, 0, 1), this.current.offset(-1, 0, 0));\r\n            break;\r\n          case 8:\r\n            next = this.validate(this.current.offset(0, 0, -1), this.current.offset(-1, 0, 0));\r\n            break;\r\n          case 9:\r\n            next = this.validate(this.current.offset(0, 0, -1), this.current.offset(1, 0, 0));\r\n            break;\r\n        }\r\n        if (next !== false) {\r\n          this.previous = this.current;\r\n          this.current = next;\r\n          return true;\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n  private validate(loc1: RailLoc, loc2: RailLoc) {\r\n    let down1 = loc1.offset(0, -1, 0);\r\n    let down2 = loc2.offset(0, -1, 0);\r\n\r\n    if (!loc1.compare(this.previous) && this.isRail(loc1)) {\r\n      return loc1;\r\n    }\r\n    else if (!loc2.compare(this.previous) && this.isRail(loc2)) {\r\n      return loc2;\r\n    }\r\n    else if (!down1.compare(this.previous) && this.isRail(down1)) {\r\n      return down1;\r\n    }\r\n    else if (!down2.compare(this.previous) && this.isRail(down2)) {\r\n      return down2;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  private isRail(loc: RailLoc) {\r\n    let b: Block | undefined = this.d.getBlock(loc);\r\n\r\n    if (b !== undefined) {\r\n      if (b?.permutation.type === MinecraftBlockTypes.rail || b?.permutation.type === MinecraftBlockTypes.goldenRail) {\r\n        return true;\r\n      }\r\n    }\r\n    else {\r\n      let areaname: string = randomNumberBetween(0, 1000000).toString();\r\n      while (this.areas.has(areaname)) {\r\n        areaname = randomNumberBetween(0, 1000000).toString();\r\n      }\r\n      this.areas.add(areaname);\r\n      this.d.runCommand(\"tickingarea add \" + (this.current.x - 8) + \" \" + (this.current.y - 8) + \" \" + (this.current.z - 8) + \" \" + (this.current.x + 8) + \" \" + (this.current.y + 8) + \" \" + (this.current.z + 8) + \" \" + areaname + \" true\");\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\nlet tickIndex = 0;\r\nfunction mainTick() {\r\n  try {\r\n    tickIndex++;\r\n\r\n    if (tickIndex === 100) {\r\n      world.getDimension(\"overworld\").runCommandAsync(\"say Hello starter!\");\r\n      world.beforeEvents.chatSend.subscribe(async (eventData) => {\r\n        if (eventData.message === \"po\") {\r\n          const p: Player = eventData.sender;\r\n          const counter: RailIterator = new RailIterator(p.location.x, p.location.y, p.location.z, p.dimension);\r\n          world.sendMessage(counter.run(eventData.sender).toString());\r\n          world.sendMessage(\"op\");\r\n        } else if (eventData.message === \"no\") {\r\n          checkStateAndLoc(eventData.sender);\r\n        }\r\n      });\r\n    }\r\n  } catch (e) {\r\n    console.warn(\"Script error: \" + e);\r\n  }\r\n\r\n  system.run(mainTick);\r\n}\r\n\r\nsystem.run(mainTick);\r\n"],"sourceRoot":"../../../scripts/"}